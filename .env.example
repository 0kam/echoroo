# ============================================
# Echoroo Configuration
# ============================================
# Copy this file to .env and modify the values
# cp .env.example .env
#
# Required variables are marked with (REQUIRED)

# ============================================
# PostgreSQL Database (REQUIRED)
# ============================================
# Database name
POSTGRES_DB=echoroo

# Database user
POSTGRES_USER=postgres

# Database password (REQUIRED - change this!)
POSTGRES_PASSWORD=CHANGE_ME_BEFORE_USE

# Database port (dev only, exposed to host)
POSTGRES_PORT=5432

# ============================================
# Audio Directory (REQUIRED)
# ============================================
# Path on the HOST where audio files are stored
# This directory will be mounted read-only in containers
ECHOROO_AUDIO_DIR=/path/to/your/audio/files

# ============================================
# Network Configuration
# ============================================
# Domain for accessing Echoroo
# - Development: localhost
# - Production: your.domain.com
ECHOROO_DOMAIN=localhost

# Backend API port
ECHOROO_PORT=5000

# Frontend port (dev only)
ECHOROO_FRONTEND_PORT=3000

# ============================================
# Production Settings
# ============================================
# Domain name (REQUIRED for production)
# DOMAIN=echoroo.example.com

# External port (production)
# PORT=80

# Number of backend replicas
# BACKEND_REPLICAS=3

# ============================================
# Machine Learning Settings
# ============================================
# Enable GPU acceleration for ML models (BirdNET, Perch)
# Set to false if GPU is not available or causing issues
ECHOROO_ML_USE_GPU=true

# Device specification for ML models
# Options: "GPU", "CPU", "GPU:0", "GPU:1" (specific GPU)
ECHOROO_ML_GPU_DEVICE=GPU

# Batch size for GPU inference (segments processed in parallel)
# Higher = more GPU memory, better throughput
# Reduce if you get CUDA_ERROR_OUT_OF_MEMORY
# Typical values: 8-32
ECHOROO_ML_GPU_BATCH_SIZE=16

# Number of file feeder processes for audio loading
# Higher = faster file I/O, more CPU usage
# Typical values: 4-16
ECHOROO_ML_FEEDERS=1

# Number of GPU inference workers
# Usually 1 is optimal unless you have multiple GPUs
ECHOROO_ML_WORKERS=1

# ============================================
# Development Settings
# ============================================
# Enable development mode (hot reload, verbose logging)
ECHOROO_DEV=true

# ============================================
# Quick Start
# ============================================
# 1. Copy this file: cp .env.example .env
# 2. Set POSTGRES_PASSWORD to a secure password
# 3. Set ECHOROO_AUDIO_DIR to your audio directory
# 4. Start: ./scripts/docker.sh dev
#
# Development:
#   ./scripts/docker.sh dev         # Start
#   ./scripts/docker.sh dev logs    # View logs
#   ./scripts/docker.sh dev db      # Connect to database
#   ./scripts/docker.sh dev stop    # Stop
#
# Production:
#   Set DOMAIN in .env
#   ./scripts/docker.sh prod        # Start
#   ./scripts/docker.sh prod stop   # Stop
